<!doctype html>

<html lang="ja">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Hugo 0.117.0">
  
  
<meta property="og:site_name"           content="140文字以上">
<meta property="og:title"               content="生成AI向けに最低限な自作PC構成を考えてみた">
<meta property="twitter:title"          content="生成AI向けに最低限な自作PC構成を考えてみた">
<meta property="og:url"                 content="https://chromabox.github.io/140m/d/20240501_aipc/">
<meta property="og:type"                content="article">
<meta property="og:description"         content="GWということでこの時期新しいPCを検討する人も多いんじゃないかなと思います。 ということで、巷で話題の生成AIについてちょっと触ってみたいな">
<meta property="twitter:description"    content="GWということでこの時期新しいPCを検討する人も多いんじゃないかなと思います。 ということで、巷で話題の生成AIについてちょっと触ってみたいな">

    <meta property="og:image"       content="https://chromabox.github.io/140m/cards/default_card.jpg">
    <meta property="og:image:url"   content="https://chromabox.github.io/140m/cards/default_card.jpg">


  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/solid.min.css" integrity="sha512-bdTSJB23zykBjGDvyuZUrLhHD0Rfre0jxTd0/jpTbV7sZL8DCth/88aHX0bq2RV8HK3zx5Qj6r2rRU/Otsjk+g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/brands.min.css" integrity="sha512-L+sMmtHht2t5phORf0xXFdTC0rSlML1XcraLTrABli/0MMMylsJi3XA23ReVQkZ7jLkOEIMicWGItyK4CAt2Xw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/fontawesome.min.css" integrity="sha512-cHxvm20nkjOUySu7jdwiUxgGy11vuVPE9YeK89geLMLMMEOcKFyS2i+8wo0FOwyQO/bL8Bvq1KMsqK4bbOsPnA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=M+PLUS+1p:300,400,500,700&amp;subset=japanese">
<link rel="stylesheet" href="https://chromabox.github.io/140m/css/bootstrap.min.css">
<link rel="stylesheet" href="https://chromabox.github.io/140m/css/syntax-highlight.css">

  
  
  <title>生成AI向けに最低限な自作PC構成を考えてみた | 140文字以上</title>
  <style>
.container {
  max-width: 1200px;
}


body {
	margin: 0;
	padding: 0;
	color: #303030; 
	background: rgb(245,250,254);  
	background: linear-gradient(135deg,  rgba(255,255,255,1) 0%,rgba(178,216,239,1) 100%);  
  line-height: 1.7;
}

a {
	color: #337a33;
	text-decoration: underline;
  word-wrap:break-word;
}

#btitle-border {
  border-bottom: 1px solid #ccc;
}

#btitle {
  padding: 2rem 0 1rem 0;
}
#btitle a {
	font-weight: 400;
  font-size: 26px;
  color: #303030;
  text-decoration: none;
}

#bstitle {
  padding: 0 0 0 0;
}
#bstitle p {
  padding: 0 0 0 0;
  margin: 0 0 0.1rem 0;
}
#bstitle h4 {
	font-weight: 300;
  font-size: 12px;
}

#main {
  margin-top: 1em;
  margin-bottom: 1em;
}

#footer .my-container {
  padding: 1em 0;
}
#footer a {
  color: inherit;
  text-decoration: underline;
}

.blog-post, .blog-pagination {
  margin-bottom: 1rem;
}

.page-item.disabled .page-link {
  background-color: inherit;
}

.page-link {
  background-color: inherit;
}

.blog-post-date {
	font-weight: 300;
  font-size: 12px;
}

.blog-post-title {
  margin: 0;
  padding: 0 0 0 0;
  font-weight: 500;
  font-size: 26px;
}


.my-container {
  max-width: 1200px;
}

.header-box {
	border: 1px solid #808080;
  padding-top: 0.5rem;
  padding-right: 1rem;
  padding-bottom: 0.5rem;
  padding-left: 1rem;
	border-radius: 5px;
	box-shadow: 0 0 10px rgba(0, 0, 0, .2);
}

.main-box {
  border: 1px solid #808080;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  padding-right: 1.8rem;
  padding-bottom: 0.5rem;
  padding-left: 1.8rem;
  border-radius: 5px;
  box-shadow: 0 0 10px rgba(0, 0, 0, .2);
}

.font-125 {
  font-size: 125%;
}
.tag-btn {
  margin-bottom: 0.3em;
}

.content-2-title {
	margin-top: 2rem;
	margin-bottom: 0.5rem;
	margin-left: -0.5rem;
  border-bottom: 1px solid #808080;
  border-left: 4px solid #808080;
  padding-left: 0.5rem;
}
.content-2-title h3 {
	font-weight: 500;
  font-size: 20px;
}

.content-3-title {
	margin-top: 15px;
	margin-bottom: 10px;
  border-bottom: 1px solid #808080;
  border-left: 1px solid #808080;
  padding-left: 5px;
}

.content-3-title h3 {
	font-weight: 500;
  font-size: 18px;
}

ul, ol {
  padding-left:30px;
}

@media screen and (max-width: 479px) {

  .my-container {
    padding-right: 0.5rem;
    padding-left: 0.5rem;
  }

  .header-box {
    padding-right: 0.5rem;
    padding-left: 0.5rem;
  }

  .main-box {
    padding-right: 0.5rem;
    padding-left: 0.5rem;
  }

  .content-2-title {
    margin-left: -0.3rem;
  }

}
  


.figure-img {
  margin-bottom: 0.1rem;
  line-height: 1;
}
.figure-caption {
  font-size: 90%;
  color: inherit;
}

.smallbox {
  font-size: 70%;
  border-radius: 0.3rem;
  padding: 0.3rem;
  color: inherit;
}

pre {
  border: 1px solid #ccc;
	background: rgb(70,70,70);
	color: rgb(255,255,255);
  border-radius: 0.5rem;
  padding: 0.5rem;
}
pre code {
	font-family: inherit;
  font-size: inherit;
  color: inherit; 
  background-color: transparent;
  border-radius: 0;
}
code {
  padding: 2px 4px;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 5px;
}
.code-name {
  display: inline-block;
  padding: 2px 4px;
	background: #9090A0;
	color: rgb(255,255,255);
  font-size: inherit;
  border-radius: 0.5rem;
}

pre code span {
	font-family: inherit;
}

hr {
  background-color: #808080;
}



img,
iframe,
embed,
video,
audio {
  max-width: 100%;
}
.card-img,
.card-img-top,
.card-img-bottom {
  width: initial;
}

* {
	font-family: 'M PLUS 1p', sans-serif;
	font-weight: 400;
  word-wrap:break-word;
}

</style>
</head>
  <body class="d-flex flex-column">
    <div id="btitle-border" class="container-fluid my-container">
  
  
  
  
  
  
  
  
  
  
  
  <div id="btitle" class="btitle">
    <h3><a href="https://chromabox.github.io/140m">140文字以上</a></h3>
  </div>
  <div id="bstitle" class="bstitle">
    <h4>
      <p>140文字では伝わらないことを書いています。禁無断転載</p>
      <p>
        <a href="https://twitter.com/chromarock">twitter(@chromarock)</a>,
        <a href="https://github.com/chromabox">github</a>,
		    <a rel="me" href="https://bsky.app/profile/chromarock.bsky.social">bluesky</a>,
		    <a rel="me" href="https://mastodon-japan.net/@chromarock">Mastodon(japanet)</a>,
		    <a rel="me" href="https://misskey.io/@chromarock">misskey</a>,
        <a href="https://www.amazon.co.jp/hz/wishlist/ls/23TQMSM3EB8EA">ほしいものリスト</a>,
        <a href="https://chromabox.github.io/140m/proof/">本人証明</a>,
        <a href="https://chromabox.github.io/140m/about/">その他プロフィール</a>
      </p>
  </h4>
  </div>
</div>

    <div class="container-fluid my-container">
      <main id="main">
        
<header class="header-box">
    


<div class="blog-post-date text-secondary">
    
    <i class="fa fa-clock"></i><time datetime="2024-05-01">2024-05-01</time>
    
</div>

    <h2 class="blog-post-title">
    <a class="text-dark text-decoration-none" href="https://chromabox.github.io/140m/d/20240501_aipc/">生成AI向けに最低限な自作PC構成を考えてみた</a>
</h2>

    
<div class="blog-post-tags text-secondary">
    <strong>tags:</strong>
    
        <a class="btn btn-sm btn-outline-dark tag-btn" href="/tags/diary">diary</a>
    
        <a class="btn btn-sm btn-outline-dark tag-btn" href="/tags/ubuntu">ubuntu</a>
    
        <a class="btn btn-sm btn-outline-dark tag-btn" href="/tags/linux">linux</a>
    
        <a class="btn btn-sm btn-outline-dark tag-btn" href="/tags/pc">pc</a>
    
        <a class="btn btn-sm btn-outline-dark tag-btn" href="/tags/windows">windows</a>
    
</div>


    

</header>
<div class="main-box">
<p>GWということでこの時期新しいPCを検討する人も多いんじゃないかなと思います。<br>
ということで、巷で話題の生成AIについてちょっと触ってみたいなぁという人向けにローカル環境(自宅PC環境)用のPC構成をちょっと考えてみました。</p>
<p>以下は主に自作PCでの構成について書いていますが、そもそも自作PC初めてという人にはちょっとおすすめしづらいです。<br>
本当に自作PCが初めてな人は、それこそD○SパラとかPC量販店の店員さんに聞いてみる、似たようなBTOを探してみるというのがベストですが、その際は予算も添えると良いかなと。<br>
自分が許容できる予算を伝えるのは大事です。</p>
<p>また、PC持っていなくて「ちょっと生成AI試したいなぁ」という人はいきなりPC組んだり買ったりせずにまずにChatGPTやBingを触ってみる、絵の生成ならとりあえず「NovelAI」(有料ですが)を触れてみて何ができそうかを様子を見て、ローカル環境でもバリバリ続けられそうならそのときに改めてPCを考えてみる…というのが賢いのかなぁと。</p>
<p>あとローカルLLM環境（ローカルでchatgptなどの文章生成AIを動かす環境）については書いていません。<br>
これには理由があってローカルLLMでの実用環境はそこそこなスペック…それこそVRAMが最低64GB以上と大量なVRAMが必要なため、コンシューマではビデオカード２枚差し以上が必要だったり、若干動作が遅くなるもののMacStudio(ユニファイドメモリ96GB以上の奴)じゃないとVRAM確保が難しいとかありハードウェア要件が厳しいのと、あとはインストール関連も難しいためです。<br>
（今後この辺りが整備されていって動かしやすくなるとは思いますが…）</p>
<p>ということで、これからは画像生成AIでの話となります。</p>






<div class="content-2-title">
  <h3>
構成
</h3>
</div>
<p>画像生成と学習(LoRA学習)が苦もなく出来るという感じの構成です。<br>
2024/5/1現在での値段を調べて構成を練ってみました。</p>


  



<table  class="table table-dark table-sm  table-hover table-striped table-bordered ">
<thead>
<tr>
<th>パーツ</th>
<th>名称</th>
<th>お値段</th>
<th>メモ</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>Intel Core i5 12400F BOX</td>
<td>20,980</td>
<td>生成も学習もCPUパワーそんなに必要なし</td>
</tr>
<tr>
<td>空冷CPUファン</td>
<td>AK400 R-AK400-BKNNMN-G-1</td>
<td>2,873</td>
<td>よく冷えてコスパ最強のド定番。i5ならこれで充分</td>
</tr>
<tr>
<td>MB</td>
<td>Asrock B760M-HDV/M.2 D4</td>
<td>12,500</td>
<td>DDR4使えて本当に安い</td>
</tr>
<tr>
<td>メモリ(DDR4)</td>
<td>TEAM TED464G3200C22DC01 DDR4 32GB 2枚組セット(=64GB)</td>
<td>16,480</td>
<td>メモリだけは多めに積んだほうがいい</td>
</tr>
<tr>
<td>グラボ</td>
<td>RTX 4060 TI 16GB (各社)</td>
<td>68,800</td>
<td>今からするのなら最低限16GBあったほうがいい</td>
</tr>
<tr>
<td>電源</td>
<td>玄人志向 750w KRPW-GK750W/90+</td>
<td>9,980</td>
<td>やや過剰だけど安くてプラグイン式ならこれしかない</td>
</tr>
<tr>
<td>ケース</td>
<td>各社</td>
<td>5,000</td>
<td>これはなんでもいいけどMBが入るミドルタワーがいいと思う</td>
</tr>
<tr>
<td>MVNE.M2 SSD</td>
<td>P41 Plus SSDPFKNU010TZX1 1TB</td>
<td>9,960</td>
<td>OS用。資金に余裕なければPCIe3のでもいいと思う</td>
</tr>
<tr>
<td>SATAストレージ</td>
<td>Westan digital WD40EZAX HDD 4TB</td>
<td>11,220</td>
<td>データ用。4TBはあったほうがいい</td>
</tr>
<tr>
<td>OS</td>
<td>Ubuntu 22.04 or 24.04</td>
<td>0</td>
<td>ここがWindows11 Homeなら＋15,182。Ubuntuならゼロ円</td>
</tr>
<tr>
<td>CPUグリス</td>
<td>OC Master 1g　SMZ-01R-01</td>
<td>715</td>
<td>ほどほどに伸び、使いやすい。定番</td>
</tr>
</tbody>
</table>

<p>OSなしで計算すると￥158,508で、Windows11 Homeで運用すると考えると＋15,182で￥173,690ですね。</p>
<p>画像生成AIの場合はCPUパワーはあまり必要なくてほとんどグラボ(GPU)で計算が行われるため12世代のi5クラスで全く問題ないです。<br>
更に言うとPCIeの通信もモデルのロード時に大量に通信が発生する程度なので、モデルを頻繁に切り替えるとかじゃない限りはPCIeの帯域もそこまで重要ではなかったりします。</p>
<p>VRAMの容量はAI系にとって特に重要で出来ることとできないことが明確に別れてしまいます。<br>
画像生成系の場合はSD1.5からSDXLが主流になっておりモデルの容量も増えています。12GBでは厳しい場面も出始めているので今後のことを考えて16GBあったほうがいいです。<br>
正直言うとSDXLでも画像を生成をする「だけ」なら12GBや8GBでもできたりはするのですが、fp8にしないといけないとか設定をしないとメモリが溢れてものすごい遅くなったり動かなかったりします。<br>
また生成だけではなく画像のAI学習(LoRA)になってくると、こちらも設定次第で12GBでもできなくはないのですがやはりfp8にしないといけなかったり、設定を盛ってしまうと動かないとか、したいことができないパターンがあったりします。</p>
<p>ということで、生成するだけであっても無用のトラブルを避ける上でもできるだけVRAMの容量はあったほうが良いということになります。<br>
というより生成だけして学習まで手を伸ばさないことは多分無いと思うのでその点においてもVRAMの容量は最低16GBはあったほうがいいですね。</p>
<p>16GB積んでいて一番安いGPU…となると自ずとRTX 4060 Ti 16GBしかなくて4060系列はゲーム系は正直微妙なのですが生成AI系では優先度が帯域＜VRAM容量となってしまうので4060Ti(16GB)が良いということになります。<br>
欲をいえば4070TiSuperが生成速度も早くコスパも最強なのですが、こちらは13万ということで1.8倍はするのでお財布と要相談となります。<br>
(出来ることは4060Ti16GBと同じなので個人的には生成AIのみを考えると微妙かなと…)</p>
<p>これは余談ですが画像生成系の場合は言語生成(LLM)とは異なり、2枚のグラボを重ねて強くするみたいなこともできないので、個人で手に入りやすく強いGPUとなるとRTX4090以外にナシいうことになります。</p>
<p>構成例では「自分が考える最低限」ということでストレージはSSD 1TB＋HDD4TB構成で考えていますが、HDDにモデルを置くのはさすがにちょっとロードが遅くなるので、ここから追加でSSDを購入というものありかなと思います。<br>
MVNEとSATAは値段ほとんど変わらなくなってしまったのでMVNEスロットが余っているのならばMVNEなSSDを買ったほうがいいですね。</p>
<p>MB(マザーボード)はAsrockのB760M-HDVでメモリはDDR4にしています。<br>
DDR5の値段はこなれたとはいえ、まだまだDDR4のほうが安いのと生成AIの場合はメインメモリの容量もそれなりに必要というのがあります。<br>
B760M-HDVは安いのですがフェーズコントローラは本当に最低限で、周りにヒートシンクがついていないのでこの辺りが心配ならもう少しグレードを上げてもいいかなと<br>
（けどさほどCPU酷使しないのでこれでも問題はなさそうですし、安いBTOの場合はこれと似たようなMBだとは思います）<br>
フェーズ数が少ないのでオーバークロック周りには本当に向いていません。あくまで定格動作です。<br>
Kがついた良いCPUを使うのならもうちょっとマザーボードにお金を掛けたほうがいいでしょうということで…</p>
<p>CPUファンはリテールでもいいといえばいいのですが、3,000円さえ払えばAK-400という大変良いファンが手に入るのでここは3,000円払ったほうがいいのかなと<br>
電源についても同じで、電源はトコトンケチれますが(BTOだとよくケチってあります)…ケチると後々痛い目を見る部分でもあるので、よくわからなければ一応Goldを通っていてプラグイン式なこれが扱いやすくていいのかなという感じです</p>
<p>AMD系の構成は自分はAMDで組んだことがないので正直わかりませんが、似たような値段になるかなぁと思います。<br>
ただAMD構成はAM5にするとDDR5しかないですが将来性を考慮でき長く使えます。<br>
なお今回のはソケットがLGA1700なため将来性はあまり無いという話にはなります(とはいえCPUをi7にしたり、GPUを4070Tisにしたりとかアップグレードはできますし、CPUの進化も鈍化しているので全とっかえの必要は薄く適時GPUを入れ替えていって、5年位は持ちそうかなぁと…)</p>
<p>OSについてですが、Ubuntuでも生成AIは動きます…というか実はAI系開発はLinuxがよく使われていたりします。<br>
また、ubuntu（Linux環境）のほうが同じ環境であっても生成も学習も速いらしいです(自分はWindows環境で生成と学習をしたことがないのでこの辺りは色々見た限りの話ですが…)。<br>
OS自身が消費するVRAM消費もUbuntu環境のほうが若干少ない＆メモリ消費も少ないというのもあります。</p>
<p>ということでこれを期にUbuntuを入れてみるというのも一興かと思います。<br>
Linux初の人はUbuntuよりも使いやすいとされている「Linux Mint」や「MX Linux」が一応あるにはあるのですが、NvidiaのドライバはUbuntu環境での対応が手厚いので素のUbuntu(もしくはUbuntuフレーバ)がトラブルなくて良いかもしれません。</p>
<p>画像生成AIのソフトはそのままstable-diffusion-webuiやComfyUIを入れてもいいわけですが、初めての場合はWindows環境でもLinux環境でも同じように動く「StabilityMatrix」がおすすめかなぁと<br>
コレ自体が画像生成AIソフトというわけではなく、ここからさらにstable-diffusion-webuiやComfyUIを動かすみたいなランチャーアプリのようなものです<br>
こちらは勝手に環境構築までやってくれるので初めての人にはピッタリだったりします。<br>
<a href="https://github.com/LykosAI/StabilityMatrix">https://github.com/LykosAI/StabilityMatrix</a></p>

</div>

      </main>
    </div>
    
    <div class="container-fluid my-container">
    <div>
        
        <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fchromabox.github.io%2f140m%2fd%2f20240501_aipc%2f&text=140%e6%96%87%e5%ad%97%e4%bb%a5%e4%b8%8a%3a%20%e7%94%9f%e6%88%90AI%e5%90%91%e3%81%91%e3%81%ab%e6%9c%80%e4%bd%8e%e9%99%90%e3%81%aa%e8%87%aa%e4%bd%9cPC%e6%a7%8b%e6%88%90%e3%82%92%e8%80%83%e3%81%88%e3%81%a6%e3%81%bf%e3%81%9f" target="_blank" title="Tweet"><i class="btn btn-outline-dark fab fa-twitter"> 共有する</i></a>
        <i id="copy_share" class="btn btn-outline-dark fa fa-clipboard" title="クリップボードにリンクとタイトルをコピー" data-url="https://chromabox.github.io/140m/d/20240501_aipc/" data-title="140文字以上: 生成AI向けに最低限な自作PC構成を考えてみた" > 共有用にコピー</i>
    </div>
</div>

    
    
<footer id="footer" class="mt-auto text-center text-muted">
  <div class="container-fluid my-container">
    Made with <a href="https://gohugo.io/">Hugo</a> &amp; base theme <a href="https://github.com/zwbetz-gh/vanilla-bootstrap-hugo-theme">Vanilla</a>
</div>
</footer>

    <script src="https://chromabox.github.io/140m/js/feather.min.js"></script>
<script>
  feather.replace()
</script>
<script src="https://chromabox.github.io/140m/js/code-title.js"></script>


<script src="https://chromabox.github.io/140m/js/jquery-3.6.4.slim.min.js"></script>
<script src="https://chromabox.github.io/140m/js/bootstrap.bundle.min.js"></script>
<script src="https://chromabox.github.io/140m/js/share-clip.js"></script>


    


<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq"
  crossorigin="anonymous"
/>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz"
  crossorigin="anonymous"
></script>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
  crossorigin="anonymous"
  onload="renderMathInElement(document.body);"
></script>


    
  

  </body>
</html>